import{S as x,a as L,s as Y,e as _,b as v,d as b,o as g,f as h,g as y,n as w,j as m,p as q,q as M,t as T,u as S,v as j,x as z,y as H,z as N}from"./app-DKWHalj8.js";import{a as R}from"./ably-CKBmfcGR.js";function C(i,o,l){const n=i.slice();return n[9]=o[l],n}function D(i){let o,l,n,e,s=[],r=new Map,u,f=T(i[0]);const d=t=>t[9].id;for(let t=0;t<f.length;t+=1){let a=C(i,f,t),c=d(a);r.set(c,s[t]=E(c))}return{c(){o=S(i[1]),l=v(),n=_("div"),e=v();for(let t=0;t<s.length;t+=1)s[t].c();u=j(),b(n,"class","center-heart svelte-413w7e")},m(t,a){h(t,o,a),h(t,l,a),h(t,n,a),h(t,e,a);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(t,a);h(t,u,a)},p(t,a){a&2&&z(o,t[1]),a&1&&(f=T(t[0]),s=H(s,a,d,1,t,f,r,u.parentNode,N,E,u,C))},d(t){t&&(m(o),m(l),m(n),m(e),m(u));for(let a=0;a<s.length;a+=1)s[a].d(t)}}}function E(i,o){let l;return{key:i,first:null,c(){l=_("div"),b(l,"class","heart svelte-413w7e"),this.first=l},m(n,e){h(n,l,e)},p(n,e){},d(n){n&&m(l)}}}function U(i){let o,l,n,e=i[3]&&D(i);return{c(){o=_("main"),l=_("div"),n=v(),e&&e.c(),b(l,"class","count-display text-stone-50"),g(o,"--background-color",i[2]),b(o,"class","svelte-413w7e")},m(s,r){h(s,o,r),y(o,l),y(o,n),e&&e.m(o,null)},p(s,[r]){s[3]?e?e.p(s,r):(e=D(s),e.c(),e.m(o,null)):e&&(e.d(1),e=null),r&4&&g(o,"--background-color",s[2])},i:w,o:w,d(s){s&&m(o),e&&e.d()}}}function A(i,o,l){let n=[],e=0,s="#080101",r=!0,u=0,f,d;q(()=>{f=new R.Realtime({authUrl:"/ablyauth"}),f.connection.once("connected",()=>{alert("you have 15 love limit")}),d=f.channels.get("get-started"),document.addEventListener("touchend",t)}),M(()=>{document.removeEventListener("touchend",t)});function t(c){const p=new Date().getTime(),k=p-u;k<300&&k>0&&a(),u=p}async function a(){l(1,e+=1),console.log("Count:"+e),e===5&&(l(2,s="blue"),d.publish("state","state3"),alert("You have 10 remaining love")),e===10&&(l(2,s="green"),d.publish("state","state3"),alert("You have 5 remaining love")),e===15&&(l(2,s="red"),d.publish("state","state6"),l(0,n=[]),l(3,r=!1),setTimeout(()=>{l(2,s="#080101")},100),alert("You have reached the maximum love limit."),window.open("https://instagram.com/kolown","_blank")),d.publish("endless","love");const c={id:Date.now()};l(0,n=[...n,c]),setTimeout(()=>{l(0,n=n.filter(p=>p.id!==c.id))},1e3)}return[n,e,s,r]}class G extends x{constructor(o){super(),L(this,o,A,U,Y,{})}}export{G as default};
