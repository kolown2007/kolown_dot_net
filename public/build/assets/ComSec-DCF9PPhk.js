import{S as y,i as w,s as C,e as u,a as g,b as a,c as S,d as i,f as v,l as x,n as _,g as $,r as j,q as k,h as q,j as D}from"./app-CCKW6RJI.js";import{a as F}from"./ably-D16M-Ehr.js";import{u as A}from"./useForm-D35Ii0TS.js";function E(r){let s,c,t,d,l,n,e,f,o,p,b;return{c(){s=u("main"),c=u("div"),t=u("h1"),t.textContent=`KoloWn App ${r[1]}`,d=g(),l=u("div"),n=u("div"),e=u("input"),f=g(),o=u("button"),o.textContent="Send",a(e,"id","sms"),a(e,"type","string"),a(e,"placeholder","Type a message"),a(e,"class","w-full max-w-96 px-3 py-2 border rounded-l-md focus:outline-none focus:ring-2 focus:ring-red-500"),a(o,"id","send-button"),a(o,"class","bg-red-500 text-white px-4 py-2 rounded-r-md hover:bg-red-400 transition duration-300"),a(n,"class","p-4 flex"),a(l,"class","h-screen flex flex-col justify-center"),a(s,"class","h-screen flex flex-col justify-between items-center px-4 py-4 bg-black text-red-900 font-mono")},m(m,h){S(m,s,h),i(s,c),i(c,t),i(s,d),i(s,l),i(l,n),i(n,e),v(e,r[0].sms),i(n,f),i(n,o),p||(b=[x(e,"input",r[4]),x(o,"click",r[3])],p=!0)},p(m,[h]){h&1&&v(e,m[0].sms)},i:_,o:_,d(m){m&&$(s),p=!1,j(b)}}}function K(r,s,c){let t,d=new Date().getFullYear(),l,n;k(()=>{l=new F.Realtime({authUrl:"/ablyauth"}),l.connection.once("connected",()=>{n=l.channels.get("ghostwriter")})});let e=A({sms:""});q(r,e,p=>c(0,t=p));function f(){n.publish("message",t.sms),console.log(t.sms),D(e,t.sms="",t)}function o(){t.sms=this.value,e.set(t)}return[t,d,e,f,o]}class U extends y{constructor(s){super(),w(this,s,K,E,C,{})}}export{U as default};
