import{S as q,a as E,s as S,o as g,e as m,t as T,b as k,d as h,p as b,f as x,g as f,q as j,u as D,n as v,j as C,v as M}from"./app-Dg90863s.js";import{a as R}from"./ably-EkJgd0CU.js";function y(o,t,l){const s=o.slice();return s[6]=t[l],s}function w(o,t){let l;return{key:o,first:null,c(){l=m("div"),h(l,"class","heart svelte-16otpai"),this.first=l},m(s,c){x(s,l,c)},p(s,c){},d(s){s&&C(l)}}}function U(o){let t,l,s,c,r,d,a=[],p=new Map,u=g(o[0]);const _=e=>e[6].id;for(let e=0;e<u.length;e+=1){let n=y(o,u,e),i=_(n);p.set(i,a[e]=w(i))}return{c(){t=m("main"),l=m("div"),s=T(o[1]),c=k(),r=m("div"),d=k();for(let e=0;e<a.length;e+=1)a[e].c();h(l,"class","count-display text-stone-50"),h(r,"class","center-heart svelte-16otpai"),h(t,"onclick",o[3]),b(t,"--background-color",o[2]),h(t,"class","svelte-16otpai")},m(e,n){x(e,t,n),f(t,l),f(l,s),f(t,c),f(t,r),f(t,d);for(let i=0;i<a.length;i+=1)a[i]&&a[i].m(t,null)},p(e,[n]){n&2&&j(s,e[1]),n&1&&(u=g(e[0]),a=D(a,n,_,1,e,u,p,t,M,w,null,y)),n&4&&b(t,"--background-color",e[2])},i:v,o:v,d(e){e&&C(t);for(let n=0;n<a.length;n+=1)a[n].d()}}}function X(o,t,l){let s=[],c=0,r="#080101",d=new R.Realtime({authUrl:"/ablyauth"});d.connection.once("connected",function(){alert("1 tap = 1 love")});const a=d.channels.get("get-started");async function p(u){l(1,c+=1),console.log("Count:"+c),c===10&&(l(2,r="blue"),l(1,c=0),a.publish("state","state3"));const{clientX:_,clientY:e}=u;a.publish("endless","love");const n={id:Date.now(),x:_,y:e};l(0,s=[...s,n]),setTimeout(()=>{l(0,s=s.filter(i=>i.id!==n.id))},1e3)}return[s,c,r,p]}class A extends q{constructor(t){super(),E(this,t,X,U,S,{})}}export{A as default};
