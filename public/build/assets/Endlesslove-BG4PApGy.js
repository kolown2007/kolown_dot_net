import{S,a as T,s as j,o as b,e as g,t as D,b as v,d as k,p as y,f as q,g as h,l as M,q as R,u as U,n as w,j as E,v as X}from"./app-Cw0v_-1Y.js";import{a as Y}from"./ably-C43MfGgE.js";function x(o,t,l){const s=o.slice();return s[6]=t[l],s}function C(o,t){let l;return{key:o,first:null,c(){l=g("div"),k(l,"class","heart svelte-16otpai"),this.first=l},m(s,c){q(s,l,c)},p(s,c){},d(s){s&&E(l)}}}function z(o){let t,l,s,c,r,d,a=[],_=new Map,f,m,u=b(o[0]);const p=e=>e[6].id;for(let e=0;e<u.length;e+=1){let n=x(o,u,e),i=p(n);_.set(i,a[e]=C(i))}return{c(){t=g("main"),l=g("div"),s=D(o[1]),c=v(),r=g("div"),d=v();for(let e=0;e<a.length;e+=1)a[e].c();k(l,"class","count-display text-stone-50"),k(r,"class","center-heart svelte-16otpai"),y(t,"--background-color",o[2]),k(t,"class","svelte-16otpai")},m(e,n){q(e,t,n),h(t,l),h(l,s),h(t,c),h(t,r),h(t,d);for(let i=0;i<a.length;i+=1)a[i]&&a[i].m(t,null);f||(m=M(t,"click",o[3]),f=!0)},p(e,[n]){n&2&&R(s,e[1]),n&1&&(u=b(e[0]),a=U(a,n,p,1,e,u,_,t,X,C,null,x)),n&4&&y(t,"--background-color",e[2])},i:w,o:w,d(e){e&&E(t);for(let n=0;n<a.length;n+=1)a[n].d();f=!1,m()}}}function A(o,t,l){let s=[],c=0,r="#080101",d=new Y.Realtime({authUrl:"/ablyauth"});d.connection.once("connected",function(){alert("1 tap = 1 love")});const a=d.channels.get("get-started");async function _(f){l(1,c+=1),console.log("Count:"+c),c===10&&(l(2,r="blue"),l(1,c=0),a.publish("state","state3"));const{clientX:m,clientY:u}=f;a.publish("endless","love");const p={id:Date.now(),x:m,y:u};l(0,s=[...s,p]),setTimeout(()=>{l(0,s=s.filter(e=>e.id!==p.id))},1e3)}return[s,c,r,_]}class G extends S{constructor(t){super(),T(this,t,A,z,j,{})}}export{G as default};
