import{S as D,a as F,s as I,e as i,b as m,t as S,d as o,f as M,g as e,u as E,n as j,j as O,p as L,l as y,r as R}from"./app-Bd15ZZ6F.js";import{a as T}from"./ably-ByYT9ttc.js";function G(r){let t,n,h,u,b,d,a,p,g,_,v,f,l,s,k,w,c,C;return{c(){t=i("div"),n=i("button"),n.textContent="state1",h=m(),u=i("button"),u.textContent="state2",b=m(),d=i("button"),d.textContent="state3",a=m(),p=i("button"),p.textContent="state4",g=m(),_=i("button"),_.textContent="state5",v=m(),f=i("button"),f.textContent="state6",l=m(),s=i("button"),s.textContent="refresh",k=m(),w=i("button"),w.textContent="love",o(n,"id","send-button-1"),o(n,"class","bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-400 transition duration-300"),o(u,"id","send-button-2"),o(u,"class","bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-400 transition duration-300"),o(d,"id","send-button-3"),o(d,"class","bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-400 transition duration-300"),o(p,"id","send-button-4"),o(p,"class","bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-400 transition duration-300"),o(_,"id","send-button-5"),o(_,"class","bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-400 transition duration-300"),o(f,"id","send-button-6"),o(f,"class","bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-400 transition duration-300"),o(s,"id","send-button-7"),o(s,"class","bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-400 transition duration-300"),o(w,"id","send-button-8"),o(w,"class","bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-400 transition duration-300"),o(t,"class","p-4 grid grid-cols-2 gap-8 mt-4")},m(x,q){M(x,t,q),e(t,n),e(t,h),e(t,u),e(t,b),e(t,d),e(t,a),e(t,p),e(t,g),e(t,_),e(t,v),e(t,f),e(t,l),e(t,s),e(t,k),e(t,w),c||(C=[y(n,"click",r[5]),y(u,"click",r[6]),y(d,"click",r[7]),y(p,"click",r[8]),y(_,"click",r[9]),y(f,"click",r[10]),y(s,"click",r[11]),y(w,"click",r[12])],c=!0)},p:j,d(x){x&&O(t),c=!1,R(C)}}}function U(r){let t,n,h,u,b,d,a,p,g,_,v,f,l=r[2]&&G(r);return{c(){t=i("main"),n=i("div"),h=i("p"),h.textContent="Online Stats",u=m(),b=i("p"),d=S("endlessLove: "),a=S(r[0]),p=m(),g=i("p"),_=S("GITM app: "),v=S(r[1]),f=m(),l&&l.c(),o(h,"class","text-slate-200 font-bold"),o(t,"class","h-screen flex flex-col justify-center items-center px-4 py-10 bg-black text-red-900 font-mono")},m(s,k){M(s,t,k),e(t,n),e(n,h),e(n,u),e(n,b),e(b,d),e(b,a),e(n,p),e(n,g),e(g,_),e(g,v),e(t,f),l&&l.m(t,null)},p(s,[k]){k&1&&E(a,s[0]),k&2&&E(v,s[1]),s[2]?l?l.p(s,k):(l=G(s),l.c(),l.m(t,null)):l&&(l.d(1),l=null)},i:j,o:j,d(s){s&&O(t),l&&l.d()}}}function Y(r,t,n){new Date().getFullYear();let h,u,b,d=!1;L(async()=>{try{const c=new T.Realtime({authUrl:"/api/ablyauth"});c.connection.once("connected",function(){alert("you are connected")}),c.connection.on("connected",()=>{n(2,d=!0)}),c.connection.on("disconnected",()=>{n(2,d=!1),alert("you are disconnected")});const C={params:{occupancy:"metrics"}};b=c.channels.get("get-started",C),await b.subscribe("[meta]occupancy",x=>{console.log("occupancy: ",x.data.metrics),n(0,h=x.data.metrics.publishers),n(1,u=x.data.metrics.subscribers-x.data.metrics.publishers)})}catch(c){console.error("Error connecting to server:",c)}});function a(c){b.publish("state",c),console.log(c)}function p(c){b.publish("endless",c),console.log(c)}return[h,u,d,a,p,()=>a("state1"),()=>a("state2"),()=>a("state3"),()=>a("state4"),()=>a("state5"),()=>a("state6"),()=>a("refresh"),()=>p("love")]}class B extends D{constructor(t){super(),F(this,t,Y,U,I,{})}}export{B as default};
