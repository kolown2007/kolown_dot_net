import{S as q,a as E,s as H,e as m,b,d as _,o as v,f as p,g,l as M,n as y,j as h,p as w,t as S,q as j,u as D,v as L,x as N}from"./app-CqcHJkVR.js";import{a as R}from"./ably-DgndxJF0.js";function C(r,l,e){const s=r.slice();return s[7]=l[e],s}function T(r){let l,e,s,i,o=[],n=new Map,c,u=w(r[0]);const d=t=>t[7].id;for(let t=0;t<u.length;t+=1){let a=C(r,u,t),f=d(a);n.set(f,o[t]=Y(f))}return{c(){l=S(r[1]),e=b(),s=m("div"),i=b();for(let t=0;t<o.length;t+=1)o[t].c();c=j(),_(s,"class","center-heart svelte-16otpai")},m(t,a){p(t,l,a),p(t,e,a),p(t,s,a),p(t,i,a);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(t,a);p(t,c,a)},p(t,a){a&2&&D(l,t[1]),a&1&&(u=w(t[0]),o=L(o,a,d,1,t,u,n,c.parentNode,N,Y,c,C))},d(t){t&&(h(l),h(e),h(s),h(i),h(c));for(let a=0;a<o.length;a+=1)o[a].d(t)}}}function Y(r,l){let e;return{key:r,first:null,c(){e=m("div"),_(e,"class","heart svelte-16otpai"),this.first=e},m(s,i){p(s,e,i)},p(s,i){},d(s){s&&h(e)}}}function U(r){let l,e,s,i,o,n=r[3]&&T(r);return{c(){l=m("main"),e=m("div"),e.innerHTML="",s=b(),n&&n.c(),_(e,"class","count-display text-stone-50"),v(l,"--background-color",r[2]),_(l,"class","svelte-16otpai")},m(c,u){p(c,l,u),g(l,e),g(l,s),n&&n.m(l,null),i||(o=M(l,"click",r[4]),i=!0)},p(c,[u]){c[3]?n?n.p(c,u):(n=T(c),n.c(),n.m(l,null)):n&&(n.d(1),n=null),u&4&&v(l,"--background-color",c[2])},i:y,o:y,d(c){c&&h(l),n&&n.d(),i=!1,o()}}}function X(r,l,e){let s=[],i=0,o="#080101",n=!0,c=new R.Realtime({authUrl:"/ablyauth"});c.connection.once("connected",function(){alert("you have 15 love limit")});const u=c.channels.get("get-started");async function d(t){e(1,i+=1),console.log("Count:"+i),i===5&&(e(2,o="blue"),u.publish("state","state3"),alert("You have 10 remaining love")),i===10&&(e(2,o="green"),u.publish("state","state3"),alert("You have 5 remaining love")),i===15&&(e(2,o="red"),u.publish("state","state6"),e(0,s=[]),e(3,n=!1),setTimeout(()=>{e(2,o="#080101")},100),alert("You have reached the maximum love limit."),window.open("https://instagram.com/kolown","_blank"));const{clientX:a,clientY:f}=t;u.publish("endless","love");const k={id:Date.now(),x:a,y:f};e(0,s=[...s,k]),setTimeout(()=>{e(0,s=s.filter(x=>x.id!==k.id))},1e3)}return[s,i,o,n,d]}class B extends q{constructor(l){super(),E(this,l,X,U,H,{})}}export{B as default};
