import{S as b,a as x,s as w,o as f,e as h,b as C,d as u,p as E,f as k,g as p,u as S,n as _,j as v,v as T}from"./app-Dg90863s.js";import{a as $}from"./ably-EkJgd0CU.js";function m(c,t,l){const n=c.slice();return n[4]=t[l],n}function g(c,t){let l;return{key:c,first:null,c(){l=h("div"),u(l,"class","heart svelte-16otpai"),this.first=l},m(n,a){k(n,l,a)},p(n,a){},d(n){n&&v(l)}}}function j(c){let t,l,n,a=[],r=new Map,i=f(c[0]);const d=e=>e[4].id;for(let e=0;e<i.length;e+=1){let s=m(c,i,e),o=d(s);r.set(o,a[e]=g(o))}return{c(){t=h("main"),l=h("div"),n=C();for(let e=0;e<a.length;e+=1)a[e].c();u(l,"class","center-heart svelte-16otpai"),u(t,"onclick",c[1]),E(t,"--background-color",q),u(t,"class","svelte-16otpai")},m(e,s){k(e,t,s),p(t,l),p(t,n);for(let o=0;o<a.length;o+=1)a[o]&&a[o].m(t,null)},p(e,[s]){s&1&&(i=f(e[0]),a=S(a,s,d,1,e,i,r,t,T,g,null,m))},i:_,o:_,d(e){e&&v(t);for(let s=0;s<a.length;s+=1)a[s].d()}}}let q="#080101";function D(c,t,l){let n=[],a=new $.Realtime({authUrl:"/ablyauth"});a.connection.once("connected",function(){alert("tap the screen to send love")});const r=a.channels.get("get-started");async function i(d){const{clientX:e,clientY:s}=d;r.publish("endless","love");const o={id:Date.now(),x:e,y:s};l(0,n=[...n,o]),setTimeout(()=>{l(0,n=n.filter(y=>y.id!==o.id))},1e3)}return[n,i]}class U extends b{constructor(t){super(),x(this,t,D,j,w,{})}}export{U as default};
