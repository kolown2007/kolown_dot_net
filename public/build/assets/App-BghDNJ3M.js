import{D as p,c as b,w as y,i as E,p as _,u as x,s as w,r as D,b as j,a as T,d as O,m as v,e as C,f as g,g as m,h as F,o as k,t as B}from"./app-ufJBjokW.js";function P(...i){const l=typeof i[0]=="string"?i[0]:null,n=(typeof i[0]=="string"?i[1]:i[0])||{},o=l?p.restore(l):null;let u=b(n),c=null,h=null,f=e=>e;const d=y({...o?o.data:n,isDirty:!1,errors:o?o.errors:{},hasErrors:!1,progress:null,wasSuccessful:!1,recentlySuccessful:!1,processing:!1,setStore(e,s){d.update(t=>Object.assign(t,typeof e=="string"?{[e]:s}:e))},data(){return Object.keys(n).reduce((e,s)=>(e[s]=this[s],e),{})},transform(e){return f=e,this},defaults(e,s){return typeof e>"u"?(u=Object.assign(u,b(this.data())),this):(u=Object.assign(u,b(s?{[e]:s}:e)),this)},reset(...e){let s=b(u);return e.length===0?this.setStore(s):this.setStore(Object.keys(s).filter(t=>e.includes(t)).reduce((t,a)=>(t[a]=s[a],t),{})),this},setError(e,s){return this.setStore("errors",{...this.errors,...s?{[e]:s}:e}),this},clearErrors(...e){return this.setStore("errors",Object.keys(this.errors).reduce((s,t)=>({...s,...e.length>0&&!e.includes(t)?{[t]:this.errors[t]}:{}}),{})),this},submit(e,s,t={}){const a=f(this.data()),S={...t,onCancelToken:r=>{if(c=r,t.onCancelToken)return t.onCancelToken(r)},onBefore:r=>{if(this.setStore("wasSuccessful",!1),this.setStore("recentlySuccessful",!1),clearTimeout(h),t.onBefore)return t.onBefore(r)},onStart:r=>{if(this.setStore("processing",!0),t.onStart)return t.onStart(r)},onProgress:r=>{if(this.setStore("progress",r),t.onProgress)return t.onProgress(r)},onSuccess:async r=>{if(this.setStore("processing",!1),this.setStore("progress",null),this.clearErrors(),this.setStore("wasSuccessful",!0),this.setStore("recentlySuccessful",!0),h=setTimeout(()=>this.setStore("recentlySuccessful",!1),2e3),t.onSuccess)return t.onSuccess(r)},onError:r=>{if(this.setStore("processing",!1),this.setStore("progress",null),this.clearErrors().setError(r),t.onError)return t.onError(r)},onCancel:()=>{if(this.setStore("processing",!1),this.setStore("progress",null),t.onCancel)return t.onCancel()},onFinish:()=>{if(this.setStore("processing",!1),this.setStore("progress",null),c=null,t.onFinish)return t.onFinish()}};e==="delete"?p.delete(s,{...S,data:a}):p[e](s,a,S)},get(e,s){this.submit("get",e,s)},post(e,s){this.submit("post",e,s)},put(e,s){this.submit("put",e,s)},patch(e,s){this.submit("patch",e,s)},delete(e,s){this.submit("delete",e,s)},cancel(){c&&c.cancel()}});return d.subscribe(e=>{e.isDirty===E(e.data(),u)&&e.setStore("isDirty",!e.isDirty);const s=Object.keys(e.errors).length>0;e.hasErrors!==s&&e.setStore("hasErrors",!e.hasErrors),l&&p.remember({data:e.data(),errors:e.errors},l)}),d}function A(i,l,n){n().post("/trigger",{preserveScroll:!0,onSuccess:()=>v(l,n().sms="",n())}),console.log(n().sms)}var K=B('<main class="h-screen flex flex-col justify-between items-center px-4 py-4 bg-black text-red-900 font-mono"><div><h1> </h1></div> <div class=" h-screen flex flex-col justify-center"><div class="p-4 flex"><input id="sms" type="string" placeholder="Type a message" class="w-full max-w-96 px-3 py-2 border rounded-l-md focus:outline-none focus:ring-2 focus:ring-red-500"> <button id="send-button" class="bg-red-500 text-white px-4 py-2 rounded-r-md hover:bg-red-400 transition duration-300">Send</button></div></div></main>');function I(i,l){_(l,!1);const n={};x(n);const o=()=>C(c,"$values",n);let u=new Date().getFullYear(),c=P({sms:""});var h=k(i,!0,K),f=g(h),d=g(f),e=g(d);e.nodeValue=`KoloWn App ${w(u)}`;var s=m(m(f)),t=g(s),a=g(t);D(a);var S=m(m(a));j(a,()=>o().sms,r=>v(c,o().sms=r,o())),S.__click=[A,c,o],T(i,h),O()}F(["click"]);export{I as default};
