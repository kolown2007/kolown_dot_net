import{S as q,a as A,s as F,e as r,b as u,t as G,d as o,f as E,g as e,u as S,n as M,j as O,p as I,l as y,r as K}from"./app-DheDvHt2.js";import{a as L}from"./ably-CRSWyFL6.js";function j(a){let t,i,v,d,g,l,b,c,h,_,w,f,x,m,C,k,s,n;return{c(){t=r("div"),i=r("button"),i.textContent="state1",v=u(),d=r("button"),d.textContent="state2",g=u(),l=r("button"),l.textContent="state3",b=u(),c=r("button"),c.textContent="state4",h=u(),_=r("button"),_.textContent="state5",w=u(),f=r("button"),f.textContent="state6",x=u(),m=r("button"),m.textContent="refresh",C=u(),k=r("button"),k.textContent="love",o(i,"id","send-button-1"),o(i,"class","bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-400 transition duration-300"),o(d,"id","send-button-2"),o(d,"class","bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-400 transition duration-300"),o(l,"id","send-button-3"),o(l,"class","bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-400 transition duration-300"),o(c,"id","send-button-4"),o(c,"class","bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-400 transition duration-300"),o(_,"id","send-button-5"),o(_,"class","bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-400 transition duration-300"),o(f,"id","send-button-6"),o(f,"class","bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-400 transition duration-300"),o(m,"id","send-button-7"),o(m,"class","bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-400 transition duration-300"),o(k,"id","send-button-8"),o(k,"class","bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-400 transition duration-300"),o(t,"class","p-4 grid grid-cols-2 gap-8")},m(p,D){E(p,t,D),e(t,i),e(t,v),e(t,d),e(t,g),e(t,l),e(t,b),e(t,c),e(t,h),e(t,_),e(t,w),e(t,f),e(t,x),e(t,m),e(t,C),e(t,k),s||(n=[y(i,"click",a[6]),y(d,"click",a[7]),y(l,"click",a[8]),y(c,"click",a[9]),y(_,"click",a[10]),y(f,"click",a[11]),y(m,"click",a[12]),y(k,"click",a[13])],s=!0)},p:M,d(p){p&&O(t),s=!1,K(n)}}}function R(a){let t,i,v,d,g,l,b,c,h,_,w,f,x,m,C,k,s=a[2]&&j(a);return{c(){t=r("main"),i=r("h1"),i.textContent=`KoloWn App : Ghost in the Machine ${a[3]}`,v=u(),d=r("a"),d.textContent="Docs",g=u(),l=r("div"),b=r("p"),b.textContent="Online Stats",c=u(),h=r("p"),_=G("endlessLove: "),w=G(a[0]),f=u(),x=r("p"),m=G("GITM app: "),C=G(a[1]),k=u(),s&&s.c(),o(d,"href","https://kolown.com/docs/gitm"),o(b,"class","text-slate-200 font-bold"),o(t,"class","h-screen flex flex-col justify-between items-center px-4 py-10 bg-black text-red-900 font-mono")},m(n,p){E(n,t,p),e(t,i),e(t,v),e(t,d),e(t,g),e(t,l),e(l,b),e(l,c),e(l,h),e(h,_),e(h,w),e(l,f),e(l,x),e(x,m),e(x,C),e(t,k),s&&s.m(t,null)},p(n,[p]){p&1&&S(w,n[0]),p&2&&S(C,n[1]),n[2]?s?s.p(n,p):(s=j(n),s.c(),s.m(t,null)):s&&(s.d(1),s=null)},i:M,o:M,d(n){n&&O(t),s&&s.d()}}}function T(a,t,i){let v=new Date().getFullYear(),d,g,l,b=!1;I(async()=>{try{const n=new L.Realtime({authUrl:"/api/ablyauth"});n.connection.once("connected",function(){alert("you are connected")}),n.connection.on("connected",()=>{i(2,b=!0)}),n.connection.on("disconnected",()=>{i(2,b=!1),alert("you are disconnected")});const p={params:{occupancy:"metrics"}};l=n.channels.get("get-started",p),await l.subscribe("[meta]occupancy",D=>{console.log("occupancy: ",D.data.metrics),i(0,d=D.data.metrics.publishers),i(1,g=D.data.metrics.subscribers-D.data.metrics.publishers)})}catch(n){console.error("Error connecting to server:",n)}});function c(n){l.publish("state",n),console.log(n)}function h(n){l.publish("endless",n),console.log(n)}return[d,g,b,v,c,h,()=>c("state1"),()=>c("state2"),()=>c("state3"),()=>c("state4"),()=>c("state5"),()=>c("state6"),()=>c("refresh"),()=>h("love")]}class Y extends q{constructor(t){super(),A(this,t,T,R,F,{})}}export{Y as default};
